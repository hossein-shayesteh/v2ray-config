{
  "mixed-port": 7890,
  "ipv6": false,
  "allow-lan": true,
  "mode": "rule",
  "log-level": "silent",
  "geo-auto-update": true,
  "geo-update-interval": 168,
  "enable-process": true,
  "find-process-mode": "strict",
  "tcp-concurrent": true,
  "profile": {
    "store-selected": true,
    "store-fake-ip": true
  },
  "sniffer": {
    "enable": true,
    "parse-pure-ip": true,
    "force-dns-mapping": true,
    "override-destination": false
  },
  "dns": {
    "enable": true,
    "listen": "0.0.0.0:1053",
    "ipv6": false,
    "respect-rules": true,
    "use-system-hosts": false,
    "enhanced-mode": "fake-ip",
    "fake-ip-range": "198.18.0.1/16",
    "fake-ip-filter-mode": "blacklist",
    "fake-ip-filter": ["rule-set:private"],
    "default-nameserver": ["8.8.8.8", "8.8.4.4"],
    "nameserver": ["4.2.2.4", "1.1.1.1"],
    "direct-nameserver": ["8.8.8.8", "8.8.4.4"],
    "proxy-server-nameserver": ["4.2.2.4", "1.1.1.1"],
    "fallback": [
      "quic://8.8.8.8",
      "quic://8.8.4.4",
      "https://google.com/dns-query",
      "https://8.8.8.8/dns-query"
    ],
    "fallback-filter": {
      "ipcidr": ["10.10.34.34/29"]
    }
  },
  "tun": {
    "enable": true,
    "stack": "gvisor",
    "auto-route": true,
    "auto-redirect": true,
    "strict-route": true,
    "dns-hijack": ["any:53", "tcp://any:53"]
  },
  "proxies": [
    {
      "name": "proxy1"
    },
    {
      "name": "proxy2"
    },
    {
      "name": "proxy3"
    }
  ],
  "proxy-groups": [
    {
      "name": "Smart VPN",
      "type": "select",
      "lazy": true,
      "icon": "https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png",
      "proxies": ["Auto", "Load Balancer", "proxy1", "proxy2", "proxy3"]
    },

    {
      "name": "Auto",
      "type": "url-test",
      "icon": "https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/EU.png",
      "url": "http://gstatic.com/generate_204",
      "lazy": true,
      "interval": 120,
      "tolerance": 200,
      "hidden": true,
      "proxies": ["proxy1", "proxy2", "proxy3"]
    },
    {
      "name": "Load Balancer",
      "type": "load-balance",
      "strategy": "consistent-hashing",
      "icon": "https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Bypass.png",
      "url": "http://gstatic.com/generate_204",
      "lazy": true,
      "interval": 120,
      "tolerance": 200,
      "hidden": true,
      "proxies": ["proxy1", "proxy2", "proxy3"]
    }
  ],
  "rule-providers": {
    "private": {
      "type": "http",
      "format": "text",
      "behavior": "ipcidr",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/private.txt",
      "path": "./ruleset/private.txt",
      "interval": 86400
    },
    "ircidr": {
      "type": "http",
      "format": "text",
      "behavior": "ipcidr",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/ircidr.txt",
      "path": "./ruleset/ircidr.txt",
      "interval": 86400
    },
    "iran_other": {
      "type": "http",
      "format": "text",
      "behavior": "domain",
      "url": "https://github.com/bootmortis/iran-hosted-domains/releases/latest/download/clash_rules_other.txt",
      "path": "./ruleset/iran_other.txt",
      "interval": 86400
    },
    "apps": {
      "type": "http",
      "format": "text",
      "behavior": "classical",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/apps.txt",
      "path": "./ruleset/apps.txt",
      "interval": 86400
    },
    "Pro": {
      "type": "http",
      "format": "text",
      "behavior": "domain",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/nsfw.txt",
      "path": "./ruleset/pro.txt",
      "interval": 86400
    },
    "ads": {
      "type": "http",
      "format": "text",
      "behavior": "domain",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/category-ads-all.txt",
      "path": "./ruleset/ads.txt",
      "interval": 86400
    },
    "malware": {
      "type": "http",
      "format": "text",
      "behavior": "domain",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/malware.txt",
      "path": "./ruleset/malware.txt",
      "interval": 86400
    },
    "phishing": {
      "type": "http",
      "format": "text",
      "behavior": "domain",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/phishing.txt",
      "path": "./ruleset/phishing.txt",
      "interval": 86400
    },
    "cryptominers": {
      "type": "http",
      "format": "text",
      "behavior": "domain",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/cryptominers.txt",
      "path": "./ruleset/cryptominers.txt",
      "interval": 86400
    },
    "malware-ip": {
      "type": "http",
      "format": "text",
      "behavior": "ipcidr",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/malware-ip.txt",
      "path": "./ruleset/malware-ip.txt",
      "interval": 86400
    },
    "phishing-ip": {
      "type": "http",
      "format": "text",
      "behavior": "ipcidr",
      "url": "https://github.com/Chocolate4U/Iran-clash-rules/releases/latest/download/phishing-ip.txt",
      "path": "./ruleset/phishing-ip.txt",
      "interval": 86400
    }
  },
  "rules": [
    "DOMAIN-SUFFIX,ir,DIRECT",
    "DOMAIN,www.cloudflare.com,DIRECT",
    "RULE-SET,ads,REJECT",
    "RULE-SET,malware,REJECT",
    "RULE-SET,malware-ip,REJECT",
    "RULE-SET,phishing,REJECT",
    "RULE-SET,phishing-ip,REJECT",
    "RULE-SET,cryptominers,REJECT",
    "RULE-SET,private,DIRECT",
    "RULE-SET,ircidr,DIRECT",
    "RULE-SET,iran_other,DIRECT",
    "RULE-SET,apps,DIRECT",
    "MATCH,Smart VPN"
  ]
}
